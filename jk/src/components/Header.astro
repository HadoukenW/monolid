---
import HeaderLink from './HeaderLink.astro';
// import { SITE_TITLE } from '../consts';
import { Image } from 'astro:assets';
import logo from '../assets/logo.jpg'
---

<header>
	<div class="container">
		<nav aria-label="Основное меню">
			<a class="logo" href="/"><Image src={logo} alt="Логотип"/></a>
			<ul class="nav__links">
				<HeaderLink href="/catalog-novostroek">Каталог новостроек</HeaderLink>
				<HeaderLink href="/nashi-uslugi">Наши услуги</HeaderLink>
				<HeaderLink href="/novosti">Новости</HeaderLink>
				<HeaderLink href="/contacts">Контакты</HeaderLink>
			</ul>
			<button aria-label="Открыть меню" class="burger">
				<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 64 64" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M53 21H11c-1.7 0-3-1.3-3-3s1.3-3 3-3h42c1.7 0 3 1.3 3 3s-1.3 3-3 3zM53 35H11c-1.7 0-3-1.3-3-3s1.3-3 3-3h42c1.7 0 3 1.3 3 3s-1.3 3-3 3zM53 49H11c-1.7 0-3-1.3-3-3s1.3-3 3-3h42c1.7 0 3 1.3 3 3s-1.3 3-3 3z"></path></g></svg>
			</button>
		</nav>

	</div>
</header>

<nav class="burger-menu" aria-label="Раскрывающееся меню">
	<ul>
		<HeaderLink href="/catalog-novostroek">Каталог новостроек</HeaderLink>
		<HeaderLink href="/nashi-uslugi">Наши услуги</HeaderLink>
		<HeaderLink href="/novosti">Новости</HeaderLink>
		<HeaderLink href="/contacts">Контакты</HeaderLink>
	</ul>

	<button aria-label="Закрыть меню" class="menu-close">
		<svg aria-hidden="true"  xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 320.591 320.591" style="enable-background:new 0 0 512 512" xml:space="preserve"><g><path d="M30.391 318.583a30.37 30.37 0 0 1-21.56-7.288c-11.774-11.844-11.774-30.973 0-42.817L266.643 10.665c12.246-11.459 31.462-10.822 42.921 1.424 10.362 11.074 10.966 28.095 1.414 39.875L51.647 311.295a30.366 30.366 0 0 1-21.256 7.288z" fill="#000000" opacity="1" data-original="#000000"></path><path d="M287.9 318.583a30.37 30.37 0 0 1-21.257-8.806L8.83 51.963C-2.078 39.225-.595 20.055 12.143 9.146c11.369-9.736 28.136-9.736 39.504 0l259.331 257.813c12.243 11.462 12.876 30.679 1.414 42.922-.456.487-.927.958-1.414 1.414a30.368 30.368 0 0 1-23.078 7.288z"></path></g></svg>
	</button>
</nav>
<style lang="scss">
	header {
		padding: 20px 0;
	}
	.logo {
		width: 175px;

		img {
			width: 100%;
		}
	}
	nav {
		display: flex;
		align-items: center;
		justify-content: space-between;
	}
	.nav__links {
		display: flex;
		gap: 30px;

		@media(max-width: 992px) {
			gap: 25px;
		}
		@media(max-width: 767px) {
			display: none;
		}

	}

	.burger-menu {
		display: none;
		position: relative;
		&.active {
			position: fixed;
			width: 100%;
			height: 100dvh;
			background-color: var(--btn-primary);
			z-index: 100;
			display: flex;
			align-items: center;
			justify-content: center;
			
			ul {
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 15px;

				a {
					color: var(--primary);
					font-weight: normal;
				}
			}
		}
	}

	.burger {
		display: none;
		@media(max-width: 767px) {
			display: flex;
		}

		svg {
			width: 36px;
			height: 36px;
		}
	}

	.menu-close {
		display: none;

		svg {
			width: 25px;
			height: 25px;
			fill: var(--primary);

			path {
				fill: var(--primary);
			}
		}

		&.active {
			display: flex;
			position: absolute;
			right: 25px;
			top: 25px;
		}
	}
	a {
		color: var(--headers-primary);
		font-weight: 500;
		
	}

	
</style>

<script>
	const burger = document.querySelector('.burger')
	const menu = document.querySelector('.burger-menu')
	const close = document.querySelector('.menu-close')
	burger?.addEventListener('click', e => {
		menu?.classList.add('active')
		close?.classList.add('active')
	})
	close?.addEventListener('click', e => {
		menu?.classList.remove('active')
		close?.classList.remove('active')
	})
</script>